//----------------------------------------------------------------------------------------------------------------------
// Key Handler
//----------------------------------------------------------------------------------------------------------------------

const { EventEmitter } = require('events');
const keypress = require('keypress');

//----------------------------------------------------------------------------------------------------------------------

const emitter = new EventEmitter();

// Set up the keypress library
keypress(process.stdin);

// Listen for the "keypress" event
process.stdin.on('keypress', function (ch, key)
{
    emitter.emit('key', key);
});

//----------------------------------------------------------------------------------------------------------------------

process.stdin.setRawMode(true);
process.stdin.resume();

//----------------------------------------------------------------------------------------------------------------------

module.exports = emitter;

//----------------------------------------------------------------------------------------------------------------------
